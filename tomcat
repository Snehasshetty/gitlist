

lsb_release -a

‚úÖ Step-by-Step Installation ‚Äî Tomcat 9 + Java 8
1Ô∏è‚É£ Install Java 8

sudo apt update
sudo apt install openjdk-8-jdk -y

Verify:

java -version

If multiple Java versions exist ‚Üí set Java 8 as default:

sudo update-alternatives --config java

Select:

/usr/lib/jvm/java-8-openjdk-amd64

2Ô∏è‚É£ Download Tomcat 9

cd /tmp
wget https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.98/bin/apache-tomcat-9.0.98.tar.gz

(Version number changes ‚Üí latest from apache)

Extract:

sudo mkdir -p /opt/tomcat9
sudo tar xzf apache-tomcat-9.0.98.tar.gz -C /opt/tomcat9 --strip-components=1

3Ô∏è‚É£ Create Tomcat User

sudo useradd -r -m -U -d /opt/tomcat9 -s /bin/false tomcat

Give permission:

sudo chown -R tomcat:tomcat /opt/tomcat9
sudo chmod +x /opt/tomcat9/bin/*.sh

4Ô∏è‚É£ Create systemd Service File

sudo nano /etc/systemd/system/tomcat.service

Paste the correct config for Java 8:

[Unit]
Description=Apache Tomcat 9 Web Application Container
After=network.target

[Service]
Type=forking

Environment="JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64"
Environment="CATALINA_HOME=/opt/tomcat9"
Environment="CATALINA_BASE=/opt/tomcat9"
Environment="CATALINA_PID=/opt/tomcat9/temp/tomcat.pid"
Environment="CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC"

ExecStart=/opt/tomcat9/bin/startup.sh
ExecStop=/opt/tomcat9/bin/shutdown.sh

User=tomcat
Group=tomcat

UMask=0007
RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target

Save ‚Üí Exit
5Ô∏è‚É£ Reload & Enable Tomcat

sudo systemctl daemon-reload
sudo systemctl enable tomcat
sudo systemctl start tomcat

Check status:

sudo systemctl status tomcat

6Ô∏è‚É£ Allow Firewall (if enabled)

sudo ufw allow 8080

7Ô∏è‚É£ Access in Browser

http://<server-ip>:8080/

or

http://localhost:8080/

You should see the Tomcat Home Page üéâ
üîê Enable Manager & Host-Manager GUI (Optional)

Edit both:

sudo nano /opt/tomcat9/webapps/manager/META-INF/context.xml
sudo nano /opt/tomcat9/webapps/host-manager/META-INF/context.xml

Comment or remove the <Valve> line that restricts IP access:

<!--
<Valve className="org.apache.catalina.valves.RemoteAddrValve"
       allow="127\.\d+\.\d+\.\d+|::1"/>
-->

Create admin user:

sudo nano /opt/tomcat9/conf/tomcat-users.xml

Add inside <tomcat-users>:

<role rolename="manager-gui"/>
<role rolename="admin-gui"/>
<user username="admin" password="admin123" roles="manager-gui,admin-gui"/>

Restart Tomcat:

sudo systemctl restart tomcat

Now access:

http://<IP>:8080/manager/html

Login ‚Üí admin / admin123
üéØ Completed Successfully

‚úî Java 8
‚úî Tomcat 9
‚úî Systemd service
‚úî GUI access (optional)
If Tomcat fails to start

Run this and send output:

sudo journalctl -xeu tomcat.service

I will fix it immediately üëç

If you want, I can also give:

    Script to automate full installation

    How to deploy WAR files

    How to change Tomcat port (8080 ‚Üí 80/8081/etc.)


